
<h1>Doctors</h1>

<div id="doctors">

    <%= form_with(url: doctors_path, method: :get) do |form| %>
      <%= form.text_field :query, placeholder: 'Search doctors' %>
      <%= form.submit 'Search' %>
    <% end %>
    <% @doctors.each do |doctor| %>
    <%= render doctor %>
    <table>

      <tbody>
      <tr><th>Name: </th>
        <td><%= doctor.name %> </td> </tr>
      <tr><th>Surname : </th>
        <td><%= doctor.surname %> </td> </tr>
      <th>Department name : </th>
        <td><%= doctor.department.name %></td>

      </tbody>
    </table>

      <%= link_to "Show this doctor", doctor %>

  <% end %>
  <%= will_paginate @doctors, renderer: WillPaginate::ActionView::LinkRenderer, class: 'pagination' %>
</div>

<p><%= link_to "New doctor", new_doctor_path%></p>
<p><%= link_to 'Main page', root_path %></p>
<p>
  Sort by:
  <%= link_to 'Name (asc)', { sort_field: 'name', sort_direction: 'asc' } %>
  <%= link_to 'Name (desc)', { sort_field: 'name', sort_direction: 'desc' } %>
  <%= link_to 'Created at (asc)', { sort_field: 'created_at', sort_direction: 'asc' } %>
  <%= link_to 'Created at (desc)', { sort_field: 'created_at', sort_direction: 'desc' } %>
</p>